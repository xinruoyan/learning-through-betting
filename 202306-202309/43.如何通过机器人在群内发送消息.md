##   å¦‚ä½•é€šè¿‡æœºå™¨äººåœ¨ç¾¤å†…å‘é€æ¶ˆæ¯

  ï¼ˆby dada 2023.08.18 AM ï¼‰

#### ä¸€ã€ç¯å¢ƒå‡†å¤‡

1. PCå®‰è£…å¹¶è¿è¡Œnode  ç¯å¢ƒ
2. ç”³è¯·å¼€é€šmixin bot æœºå™¨äºº 
3. npm å¯¼å…¥â€œmixin -node- sdkâ€æ¨¡å—
4. äº†è§£æœºå™¨äººæ¥æ”¶ã€å‘é€æ¶ˆæ¯ API å†…å®¹å’Œæµç¨‹
5. åœ¨mixin appç«¯ï¼ˆ*æˆ–PCç«¯*ï¼‰ï¼Œæ‰‹åŠ¨å»ºç«‹ç¾¤ï¼Œç¡®ä¿æœºå™¨äººåœ¨è¯¥ç¾¤å†…

####  äºŒã€å®æˆ˜æ­¥éª¤

1. **node ç¯å¢ƒï¼Œé…ç½®æœºå™¨äºº, è¿è¡Œä»£ç ï¼Œç­‰å¾…æ¥æ”¶æ¶ˆæ¯**

```
//å¼•å…¥æ¨¡å—
const { BlazeClient} = require("mixin-node-sdk");
const {Base64} = require("js-base64")

//å¼•å…¥æœºå™¨äººé…ç½®æ–‡ä»¶
const config = require("../multisignatt/config_zhuanzhang.json");
// é…ç½®ç¾¤å¯¹è¯ID
const Group_conversation_id = ''

//æœºå™¨äººå®¢æˆ·ç«¯
const client = new BlazeClient(config, { parse: true, syncAck: true });

// æ¥å¬æ¶ˆæ¯
client.loopBlaze({
     async onMessage(msg) { 
        console.log(msg)  
     } 
 })    
```

2. **æ‰‹æœº app æˆ–ç”µè„‘ mixin å®¢æˆ·ç«¯ï¼Œåœ¨æ–°å»ºç¾¤å†…  @æœºå™¨äºº å¹¶å‘é€æ¶ˆæ¯**

   <img src="https://raw.githubusercontent.com/Dada01Github/images/master/image-20230818110808532.png" alt="image-20230818110808532" style="zoom:50%;" />

   <img src="https://raw.githubusercontent.com/Dada01Github/images/master/image-20230818112004324.png" alt="image-20230818112004324" style="zoom:50%;" />

   

3. **åœ¨è¿è¡Œä»£ç ç»ˆç«¯ï¼Œä»æ¥æ”¶çš„æ¶ˆæ¯ï¼Œè¯»å–ç¾¤conversation_id**

   <img src="https://raw.githubusercontent.com/Dada01Github/images/master/image-20230818112220461.png" alt="image-20230818112220461" style="zoom:80%;" />

   

4.**è¡¥å……ç¾¤å¯¹è¯ID,æ¿€æ´»å‘é€ç¾¤æ¶ˆæ¯ä»£ç ï¼Œå‘é€ç¾¤æ¶ˆæ¯**

```
// é…ç½®ç¾¤å¯¹è¯ID å’Œæ¶ˆæ¯å†…å®¹
const Group_conversation_id = 'ed9ea921-1068-4b03-a535-04976bdadddc'
const data = "âœ”ï¸å¦‚ä½•é€šè¿‡æœºå™¨äººå‘ç¾¤é‡Œå‘é€æ¶ˆæ¯2023.08.18ï¼ğŸ˜€ "

// Function: å‘ç¾¤é‡Œå‘ä¿¡æ¯å‡½æ•°
async function sendMessagetoGroup(data,conversation_id) {
 client.sendMessage({
   conversation_id: conversation_id, 
   message_id: client.newUUID(),
   category: "PLAIN_TEXT",
   data: Base64.encode(data),
 });
 console.log(data);

}
// è°ƒç”¨ç¾¤å‘é€å‡½æ•°ï¼Œå‘ç¾¤å†…å‘é€æ¶ˆæ¯
sendMessagetoGroup(data,Group_conversation_id)

```

5. **æŸ¥çœ‹æ¶ˆæ¯**

   <img src="https://raw.githubusercontent.com/Dada01Github/images/master/image-20230818115747929.png" alt="image-20230818115747929" style="zoom:80%;" />

   ####  ä¸‰ ã€å°ç»“

   æ ¹æ®mixin sdk æä¾›çš„æ¶ˆæ¯å‘é€APIæ–‡ä»¶è¦æ±‚ï¼Œé¦–å…ˆï¼Œè·å–ç¾¤å†…å„ç»„å‘˜å¯¹è¯çš„ID,å³conversation_idï¼›æœ¬æ–‡é‡‡ç”¨é€šè¿‡æœºå™¨äººæ¥å¬æ¶ˆæ¯çš„æ–¹å¼ï¼Œæ‰‹å·¥è·å–ï¼›å…¶æ¬¡ï¼ŒæŒ‰ç…§ sendMessage ï¼ˆ{}ï¼‰è¦æ±‚ï¼Œé…ç½®ç›¸å…³çš„å‚æ•°ï¼Œæ„å»ºå‘é€æ¶ˆæ¯å‡½æ•°ï¼›æœ€åè°ƒç”¨è¯¥å‡½æ•°ï¼Œå®ç°æœºå™¨äººå‘ç¾¤å†…å‘é€æ¶ˆæ¯ã€‚ä»¥ä¸Šè¿™äº›æ­¥éª¤å’ŒåŸºç¡€ä»£ç ï¼Œç³»æœ¬äººåœ¨å®æˆ˜è¿‡ç¨‹ä¸­æ€»ç»“çš„ä¸€äº›ç»éªŒåšæ³•ï¼Œä¾›å¤§å®¶å‚è€ƒã€‚

â€‹     ä¹‹å‰å…±åˆ›å…±å­¦é¡¹ç›®çš„â€œæ¯æ—¥ç­¾åˆ°â€æé†’æ¶ˆæ¯ï¼Œä¹Ÿæ˜¯é€šè¿‡åå°ç¨‹åºï¼Œå®šæ—¶é€šè¿‡æœºå™¨äººå‘ç¾¤å†…å‘é€æ¶ˆæ¯ï¼Œå®ç°äº†è‡ªåŠ¨åŒ–æé†’åŠŸèƒ½ï¼Œå¸Œæœ›å’Œå¤§å®¶ä¸€èµ·å…±åŒå­¦ä¹ ã€ä½¿ç”¨æœºå™¨äººï¼Œæå‡æ•ˆç‡ã€‚

   

##### é™„ï¼š"mixin-node-sdk" æ¶ˆæ¯å‘é€api

<img src="https://raw.githubusercontent.com/Dada01Github/images/master/image-20230818144815062.png" alt="image-20230818144815062" style="zoom:67%;" />

















